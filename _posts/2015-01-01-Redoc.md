# EasyPos - Config Redoc

For example create redoc API document for EasyPos - Integration Gas

1. Config Spring boot 
    1. Add dependency in pom.xml
        
        ```xml
        <dependency>
            <groupId>org.springdoc</groupId>
            <artifactId>springdoc-openapi-ui</artifactId>
            <version>1.6.9</version>
        </dependency>
        ```
        
    2. Add config spring doc in application-{env}.yml
        
        ```xml
        springdoc:
          api-docs:
            enabled: true
          paths-to-match:
            - /api/client/integration/gas-log
        ```
        
        ```xml
        jhipster:
          api-docs:
            title: Easypos API
            description: Easypos API documentation
            version: 0.0.1
            terms-of-service-url:
            contact-name: EasyPos
            contact-url: https://easyposs.vn/
            contact-email: 
            license: unlicensed
            license-url:
        ```
        
    3. Add tag, summary and description for api
        
        ```java
        @Tag(name = "Gas Log")
        @Operation(summary = "Send info gas log")
        @ApiResponses(value = {
            @ApiResponse(responseCode = "200", description = "result DTO save info gas log success",
                content = @Content(schema = @Schema(implementation = ResultDTO.class))),
            @ApiResponse(responseCode = "500", description = "Request failed")
        })
        @PostMapping("/client/integration/gas-log")
        public ResponseEntity<ResultDTO> gasLog(@RequestBody GasLogIntegration request) {
            log.debug("Request to save integration gaslog ExtId: {}", request.getExtId());
            Common.validateInput(customValidator, ENTITY_NAME, request);
            return new ResponseEntity<>(gasLogManagementService.saveGasLog(request), HttpStatus.OK);
        }
        ```
        
    4. After completing the configuration, run the project and check the result at http://127.0.0.1:{port}/v3/api-docs.
        
         üí° hint: this URL will return data with data type JSON OpenApi 3.0. You can install extensions [JSON Formatter](https://github.com/callumlocke/json-formatter?tab=readme-ov-file)
        
        Result JSON: 
        
        [result-springdoc.json](result-springdoc.json)
        
2. Config Redocly
    1. Redocly CLI for running project Redoc. Install npm Redocly
        
        ```bash
        npm i -g @redocly/cli@latest
        ```
        
    2. In your empty folder add file redocly.yml and insert your code:
        
        ‚ö†Ô∏è change port in root URL http://127.0.0.1:{port}/v3/api-docs
        
        ```xml
        extends:
          - recommended
        apis:
          easypos@v1.0:
            root: http://127.0.0.1:{port}/v3/api-docs
        theme:
          openapi:
            disableSearch: true
            schemaExpansionLevel: 2
            sortOperationsAlphabetically: true
            hideDownloadButton: true
            theme:
              typography:
                fontSize: 15px
                headings:
                  fontWeight: '600'
                code:
                  fontSize: 14px
                  wrap: true
              sidebar:
                backgroundColor: '#000000'
                textColor: '#ffffff'
        ```
        
    3. Run command in your folder including redocly.yaml, ex: redoc will running on port 8888
        
        ```xml
        redocly preview-docs --port=8888
        ```
        
    4. Result console success like
        
        ![Untitled](Untitled.png)
        
3. View result

![Untitled](Untitled%201.png)

![Untitled](Untitled%202.png)